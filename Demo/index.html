<!DOCTYPE html>
<html>

<head>
    <title>Input Test</title>
    <style type="text/css">
        div.node {
            border: solid;
            border-radius: 4px;
            margin-left: 10px;
            margin-bottom: 5px;
            padding: 2px;
        }

        div.unknown-intro {
            background-color: lightcoral;
        }

        div.var-intro {
            background-color: aquamarine;
        }

        div.and-intro {
            background-color: gold;
        }

        div.and-elim1 {
            background-color: orange;
        }

        div.and-elim2 {
            background-color: wheat;
        }

        div.or-intro1 {
            background-color: lawngreen;
        }

        div.or-intro2 {
            background-color: greenyellow;
        }

        div.or-elim {
            background-color: green;
        }
    </style>
</head>

<body>
    <math-field id="test">(\forall x) (P(x) \lor\lnot Q(x, c_1) \rightarrow (\exists y) (R(x,y) \land S(y)))</math-field>
    <p>$$(\forall x) (P(x) \lor\lnot Q(x, c_1) \rightarrow (\exists y) (R(x,y) \land S(y)))$$<br />
        <span id="out">(∀x)(P(x) or not Q(x,c_1)→(∃y)(R(x,y) and S(y)))</span>
    </p>
    <hr />
    <div is="expr-test"></div>
    <div is="unknown-intro" id="test1"></div>
    <div is="var-intro" id="test2"></div>
    <div is="and-intro" id="test3"></div>
    <div is="and-elim1" id="test4"></div>
    <div is="and-elim2" id="test5"></div>
    <!-- <div is="or-intro1" expr="P\lor Q"></div>
    <div is="or-intro2" expr="P\lor Q"></div>
    <div is="or-elim" expr="R"></div> -->

    <script type="module">
        import { Expr } from "./natded.js";

        let test1 = document.getElementById("test1");
        test1.unify(Expr.and(Expr.prop("P"), Expr.prop("Q")));

        let test2 = document.getElementById("test2");
        test2.variable = { name: "x_1" };
        test2.unify(test1.expr);

        test2.variable.name = "z";
        test2.update();

        let test3 = document.getElementById("test3");
        test3.unify(test1.expr);
        test3.unify(Expr.false);

        let test4 = document.getElementById("test4");
        test4.unify(Expr.prop("P"));

        let test5 = document.getElementById("test5");
        test5.unify(Expr.prop("Q"));

        let a = Expr.wild();
        let b = Expr.wild();
        let c = Expr.unify(Expr.and(a, Expr.true), Expr.or(Expr.false, b));
        console.log(a.render(), b.render(), c);
        let d = Expr.unify(Expr.and(a, Expr.true), Expr.and(Expr.false, b));
        console.log(a.render(), b.render(), d);
    </script>
</body>
</html>